<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>index</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
/* 
   This document has been created with Marked.app <http://markedapp.com>, Copyright 2011 Brett Terpstra
   Please leave this notice in place, along with any additional credits below.
   ---------------------------------------------------------------
   Title: Swiss
   Author: Brett Terpstra
   Description: Clean, Swiss typography with no frills.
*/
body{-webkit-font-smoothing:antialiased;font:normal .8764em/1.5em Arial,Verdana,sans-serif;margin:0}html>body{font-size:13px}li{font-size:110%}li li{font-size:100%}li p{font-size:100%;margin:.5em 0}h1{color:#000;font-size:2.2857em;line-height:.6563em;margin:.6563em 0}h2{color:#111;font-size:1.7143em;line-height:.875em;margin:.875em 0}h3{color:#111;font-size:1.5em;line-height:1em;margin:1em 0}h4{color:#111;font-size:1.2857em;line-height:1.1667em;margin:1.1667em 0}h5{color:#111;font-size:1.15em;line-height:1.3em;margin:1.3em 0}h6{font-size:1em;line-height:1.5em;margin:1.5em 0}body,p,td,div{color:#111;font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;word-wrap:break-word}h1,h2,h3,h4,h5,h6{line-height:1.5em}a{-webkit-transition:color .2s ease-in-out;color:#0d6ea1;text-decoration:none}a:hover{color:#3593d9}.footnote{color:#0d6ea1;font-size:.8em;vertical-align:super}#wrapper img{max-width:100%;height:auto}dd{margin-bottom:1em}li>p:first-child{margin:0}ul ul,ul ol{margin-bottom:.4em}caption,col,colgroup,table,tbody,td,tfoot,th,thead,tr{border-spacing:0}table{border:1px solid rgba(0,0,0,0.25);border-collapse:collapse;display:table;empty-cells:hide;margin:-1px 0 23px;padding:0;table-layout:fixed}caption{display:table-caption;font-weight:700}col{display:table-column}colgroup{display:table-column-group}tbody{display:table-row-group}tfoot{display:table-footer-group}thead{display:table-header-group}td,th{display:table-cell}tr{display:table-row}table th,table td{font-size:1.1em;line-height:23px;padding:0 1em}table thead{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-bottom:1px solid rgba(0,0,0,0.2)}table tbody{background:rgba(0,0,0,0.05)}table tfoot{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.15);border-top:1px solid rgba(0,0,0,0.2)}figure{display:inline-block;margin-bottom:1.2em;position:relative;margin:1em 0}figcaption{font-style:italic;text-align:center;background:rgba(0,0,0,.9);color:rgba(255,255,255,1);position:absolute;left:0;bottom:-24px;width:98%;padding:1%;-webkit-transition:all .2s ease-in-out}.poetry pre{display:block;font-family:Georgia,Garamond,serif!important;font-size:110%!important;font-style:italic;line-height:1.6em;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif!important}blockquote p{font-size:110%;font-style:italic;line-height:1.6em}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;position:relative;vertical-align:super}sub{vertical-align:sub;top:-1px}p,h5{font-size:1.1429em;line-height:1.3125em;margin:1.3125em 0}dt,th{font-weight:700}table tr:nth-child(odd),table th:nth-child(odd),table td:nth-child(odd){background:rgba(255,255,255,0.06)}table tr:nth-child(even),table td:nth-child(even){background:rgba(0,0,0,0.06)}@media print{body{overflow:auto}img,pre,blockquote,table,figure,p{page-break-inside:avoid}#wrapper{background:#fff;color:#303030;font-size:85%;padding:10px;position:relative;text-indent:0}}@media screen{.inverted #wrapper,.inverted{background:rgba(37,42,42,1)}.inverted hr{border-color:rgba(51,63,64,1)!important}.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted pre,.inverted code,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt{color:#eee!important}.inverted table tr:nth-child(odd),.inverted table th:nth-child(odd),.inverted table td:nth-child(odd){background:0}.inverted a{color:rgba(172,209,213,1)}#wrapper{padding:20px}::selection{background:rgba(157,193,200,.5)}h1::selection{background-color:rgba(45,156,208,.3)}h2::selection{background-color:rgba(90,182,224,.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,.3)}code::selection{background-color:rgba(0,0,0,.7);color:#eee}code span::selection{background-color:rgba(0,0,0,.7)!important;color:#eee!important}a::selection{background-color:rgba(255,230,102,.2)}.inverted a::selection{background-color:rgba(255,230,102,.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,.5)}}/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

pre code {
  display: block; padding: 0.5em;
  color: #000;
  background: #f8f8ff
}

pre .comment,
pre .template_comment,
pre .diff .header,
pre .javadoc {
  color: #998;
  font-style: italic
}

pre .keyword,
pre .css .rule .keyword,
pre .winutils,
pre .javascript .title,
pre .lisp .title,
pre .subst {
  color: #000;
  font-weight: bold
}

pre .ruby .keyword {
  font-weight: normal
}

pre .number,
pre .hexcolor {
  color: #40a070
}

pre .string,
pre .tag .value,
pre .phpdoc,
pre .tex .formula {
  color: #d14
}

pre .title,
pre .id {
  color: #900;
  font-weight: bold
}

pre .javascript .title,
pre .lisp .title,
pre .subst {
  font-weight: normal
}

pre .class .title,
pre .haskell .label,
pre .tex .command {
  color: #458;
  font-weight: bold
}

pre .class .params {
	color: #000;
}

pre .tag,
pre .tag .title,
pre .rules .property,
pre .django .tag .keyword {
  color: #000080;
  font-weight: normal
}

pre .attribute,
pre .variable,
pre .instancevar,
pre .lisp .body {
  color: #008080
}

pre .regexp {
  color: #009926
}

pre .class {
  color: #458;
  font-weight: bold
}

pre .symbol,
pre .ruby .symbol .string,
pre .ruby .symbol .keyword,
pre .ruby .symbol .keymethods,
pre .lisp .keyword,
pre .tex .special,
pre .input_number {
  color: #0086b3
}

pre .ruby .identifier .keyword,
pre .ruby .identifier .keymethods {
  color: #0086b3;
}

pre .ruby .constant {
  color: #008080;
}

pre .builtin,
pre .built_in,
pre .lisp .title {
  color: #0086b3
}

pre .preprocessor,
pre .pi,
pre .doctype,
pre .shebang,
pre .cdata {
  color: #999;
  font-weight: bold
}

pre .deletion {
  background: #fdd
}

pre .addition {
  background: #dfd
}

pre .diff .change {
  background: #0086b3
}

pre .chunk {
  color: #aaa
}

pre .tex .formula {
  opacity: 0.5;
}
</style>

</head>
<body class="normal">
  <div id="wrapper">
      <h1>Web Components &mdash; это новый Web</h1>

<blockquote>
<p>Спустя какое время стало ясно, что основная идея Prototype вошла в
противоречие с миром. Создатели браузеров ответили на возрождение
Javascript добавлением новых API, многие из которых конфликтовали с
реализацией Prototype.</p>

<p>&mdash; Sam Stephenson, <a href="http://sstephenson.us/posts/you-are-not-your-code">You Are Not Your Code</a></p>
</blockquote>

<p>Создатели браузеров поступают гармонично. Решение о новых API принимают с
учётом текущих трендов в opensource сообществах. Так <em>prototype.js</em>
способствовал появлению <code>Array.prototype.forEach()</code>, <code>map()</code> и т.д.,
<em>jquery</em> вдохновил разработчиков на
<code>HTMLElement.prototype.querySelector()</code> и <code>querySelectorAll()</code>.</p>

<p>Код на стороне клиента становится сложнее и объёмнее. Появляются
многочисленные фреймворки, которые помогают держать этот хаус под
контролем. <em>Backbone</em>, <em>ember</em>, <em>angular</em> и другие создали, чтобы помочь
писать чистый, модульный код. Фреймворки уровня приложения &mdash;
это тренд. Его дух присутствует в JS среде уже какое-то время. Не
удивительно, что создатели браузеров решили обратить на него внимание.</p>

<p><habracut/></p>

<p><strong>Web Components</strong> &mdash; это <strong>черновик</strong> набора стандартов. Его
предложили и активно продвигают ребята из Google, но инициативу уже
поддержали в Mozilla. И Microsoft. Шучу, Microsoft вообще не при делах.
Мнения в комьюнити противоречивые (судя по комментариям, статьям и т.д.).</p>

<p>Основная идея в том, чтобы позволить программистам создавать &#8220;виджеты&#8221;.
Фрагменты приложения, которые изолированы от документа, в который они
встраиваются. Использовать виджет возможно как с помощью HTML, так и с
помощью JS API.</p>

<p>Я пару недель игрался с новыми API и уверен, что в каком-то виде, рано или
поздно эти возможности будут в браузерах. Хотя их реализация в <em>Chrome
Canary</em> иногда ставила меня в тупик (меня, и сам Chrome Canary), Web
Components кажется тем инструментом, которого мне не хватало.</p>

<p>Результаты этих экспериментов послужили основой статьи. В ней я опишу
базовые части <em>Web Components</em> и покажу на примерах, как с ними работать.</p>

<p>Стандарт Web Components состоит из следующих частей:</p>

<ul>
<li><p><a href="http://www.w3.org/TR/components-intro/#template-section">Templates</a></p>

<p>Фрагменты HTML, которые программист собирается использовать в каком-то
моменте в будущем.</p>

<p>Содержимое тегов <code>&lt;template&gt;</code> парсится браузером, но не вызывает
выполнение скриптов и загрузку дополнительных ресурсов (изображений,
аудио&hellip;) пока мы не вставим его в документ.</p></li>
<li><p><a href="http://w3c.github.io/webcomponents/spec/shadow/">Shadow DOM</a></p>

<p>Инструмент инкапсуляции HTML.</p>

<p>Shadow DOM позволяет изменять внутреннее представление HTML элементов,
оставляя внешнее представление неизменным. Отличный пример &mdash;
элементы <code>&lt;audio&gt;</code> и <code>&lt;video&gt;</code>. В коде мы размещаем один тег, а
браузер отображает несколько элементов (слайдеры, кнопки, окно
проигрывателя). В Chrome эти и некоторые другие элементы используют
Shadow DOM.</p></li>
<li><p><a href="http://www.w3.org/TR/components-intro/#custom-element-section">Custom Elements</a></p>

<p><em>Custom Elements</em> позволяют создавать и определять API собственных
HTML элементов. Когда-нибудь мечтали о том, чтобы в HTML был тег
<code>&lt;menu&gt;</code> или <code>&lt;user-info&gt;</code>?</p></li>
<li><p><a href="imports">Imports</a></p>

<p>Импорт фрагментов разметки из других файлов.</p></li>
</ul>

<p>В Web Components больше частей и маленьких деталей. Некоторые я ещё буду
упоминать, до каких-то пока не добрался.</p>

<h3>Templates</h3>

<p>Концепция шаблонов проста. Хотя под этим словом в стандарте
подразумевается не то, к чему мы привыкли.</p>

<p>В современных web-фреймворках шаблоны &mdash; это строки или фрагменты
DOM, в которые мы подставляем данные перед тем как показать пользователю.</p>

<blockquote>
<p>В web components шаблоны &mdash; это фрагменты DOM. Браузер парсит их
содержимое, но не выполняет до тех пор, пока мы не вставим его в
документ. То есть браузер не будет загружать картинки, аудио и видео, не
будет выполнять скрипты.</p>
</blockquote>

<p>К примеру, такой фрагмент разметки в документе не вызовет загрузку
изображения.</p>

<pre><code>  &lt;template id=&quot;tmpl-user&quot;&gt;
    &lt;h2 class=&quot;name&quot;&gt;Иван Иваныч&lt;/h2&gt;
    &lt;img src=&quot;photo.jpg&quot;&gt;
  &lt;/template&gt;
</code></pre>

<p>Хотя браузер распарсит содержимое <code>&lt;template&gt;</code>. Добраться до него
можно с помощью js:</p>

<pre><code>var tmpl = document.querySelector('#tmpl-user');
// содержимое &lt;template&gt;
var content = tmpl.content;
var imported;

// Подставляю данные в шаблон:
content.querySelector('.name').innerText = 'Акакий';

// Чтобы скопировать содержимое и сделать его частью документа,
// используйте document.importNode()
//
// Это заставит браузер `выполнить` содержимое шаблона,
// в данном случае начнёт грузится картинка `photo.jpg`
imported = document.importNode(content);

// Результат импорта вставляю в документ:
document.body.appendChild(imported);
</code></pre>

<p>Пример работы шаблонов можно посмотреть <a href="http://filipovskii.github.io/web-components-demo/wc-templates/">здесь</a>.</p>

<blockquote>
<p>Все примеры в статье следует смотреть в <a href="https://www.google.com/intl/en/chrome/browser/canary.html">Chrome Canary</a> со
включенными флагами:</p>

<ul>
<li><strong>Experimental Web Platform features</strong></li>
<li><strong>Enable HTML Imports</strong></li>
</ul>
</blockquote>

<h4>Для Чего?</h4>

<p>На данный момент существует три способа работы с шаблонами:</p>

<ol>
<li><p>Добавить шаблон в скрытый элемент на странице. Когда он будет нужен,
 скопировать и подставить данные:</p>

<pre><code>&lt;div hidden data-template=&quot;my-template&quot;&gt;
  &lt;p&gt;Template Content&lt;/p&gt;
  &lt;img&gt;&lt;/img&gt;
&lt;/div&gt;
</code></pre>

<p>Минусы такого подхода в том, что браузер попытается &#8220;выполнить&#8221; код
шаблона. То есть загрузить картинки, выполнить код скриптов и т.д.</p></li>
<li><p>Получать содержимое шаблона в виде строки (запросить AJAXом или из
 <code>&lt;script type=&quot;x-template&quot;&gt;</code>).</p>

<pre><code> &lt;sctipt type=&quot;x-template&quot; data-template=&quot;my-template&quot;&gt;
   &lt;p&gt;Template Content&lt;/p&gt;
   &lt;img src=&quot;{{ image }}&quot;&gt;&lt;/img&gt;
 &lt;/script&gt;
</code></pre>

<p>Минус в том, что приходится работать со строками. Это создаёт угрозу
XSS, нужно уделять дополнительное внимание экранированию.</p></li>
<li><p>Компилируемые шаблоны, вроде <a href="http://twitter.github.io/hogan.js/">hogan.js</a>, также работают со
 строками. Значит имеют тот же изъян, что и шаблоны второго типа.</p></li>
</ol>

<p>У <code>&lt;template&gt;</code> нет этих недостатков. Мы работаем с DOM, не со строками.
Когда выполнять код, также решать нам.</p>

<h3>Shadow DOM</h3>

<p>Инкапсуляция. Этого в работе с разметкой мне не хватало больше всего. Что
такое Shadow DOM и как он работает проще понять на примере.</p>

<p>Когда мы используем html5 элемент <code>&lt;audio&gt;</code> код выглядит примерно так:</p>

<pre><code>&lt;audio controls src=&quot;kings-speech.wav&quot;&gt;&lt;/audio&gt;
</code></pre>

<p>Но на странице это выглядит так:</p>

<p><img src="http://habrastorage.org/storage3/94b/521/7b3/94b5217b32b9f31b14952f0845bfec7a.png" alt="audio element" id="audio-element-img" /></p>

<p>Мы видим множество контролов, прогресбар, индикатор длины аудио. Откуда
эти элементы и как до них добраться? Ответ &mdash; они находятся в
Shadow Tree элемента. Мы можем даже увидеть их в DevTools, если захотим.</p>

<blockquote>
<p>Чтобы Chrome в DevTools отображал содержимое Shadow DOM, в настройках
DevTools, вкладка <em>General</em>, раздел <em>Elements</em> ставим галочку <em>Show
Shadow DOM</em>.</p>
</blockquote>

<p>Содержимое Shadow DOM тега <code>&lt;audio&gt;</code> в DevTools:</p>

<p><img src="http://habrastorage.org/storage3/fa4/c0a/b5d/fa4c0ab5dd9786ec68ba620b74d16f05.png" alt="devtools shadow dom" id="devtools-shadow-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-audio/">ссылка на пример</a></p>

<h5>Теория Shadow DOM</h5>

<p><em>Shadow Tree</em> &mdash; это поддерево, которое прикреплено к элементу в
документе. Элемент в этом случае называется <em>shadow host</em>, на его месте
браузер показывает содержимое <em>shadow tree</em>, игнорируя содержимое самого
элемента.</p>

<p>Именно это происходит с <code>&lt;audio&gt;</code> тегом в примере выше, на его месте
браузер рендерит содержимое <em>shadow tree</em>.</p>

<p>Фишка shadow dom в том, что стили, определённые в нём с помощью <code>&lt;style&gt;</code>,
не распространяются на родительский документ. Также у нас есть
возможность ограничить влияние стилей родительского документа на
содержимое shadow tree. Об этом позже.</p>

<h5>Посадить теневое дерево</h5>

<p><em>Shadow DOM API</em> позволяет пользователям самостоятельно создавать и
манипулировать содержимым <em>shadow tree</em>. Например:</p>

<pre><code>&lt;div class=&quot;shadow-host&quot;&gt;
  Этот текст пользователь не увидит.
&lt;/div&gt;

&lt;script&gt;
  var shadowHost = document.querySelector('.shadow-host');
  var shadowRoot = shadowHost.createShadowRoot();

  shadowRoot.innerText = 'Он увидит этот текст.'
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/0b4/680/c71/0b4680c71fd746d393e11da03902d53d.png" alt="custom shadow dom" id="shadow-custom-1-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-custom/#1">ссылка на пример</a></p>

<h4>Проекции, тег <code>&lt;content&gt;</code></h4>

<p>Проекция &mdash; это использование содержимого хоста в <em>shadow tree</em>. Для
этого в стандарте есть тег <code>&lt;content&gt;</code>.</p>

<blockquote>
<p>Важно, что <code>&lt;content&gt;</code> <strong>проецирует</strong> содержимое хоста, а не переносит
его из хоста в shadow tree. Потомки хоста остаются на своём месте, на
них распространяются стили <strong>документа</strong> (а не shadow tree). <code>&lt;content&gt;</code>
это своего рода окно между мирами.</p>
</blockquote>

<p>Пример:</p>

<pre><code>&lt;template id=&quot;content-tag&quot;&gt;
  &lt;p&gt;
    Это содержимое
    &lt;strong&gt;shadow tree&lt;/strong&gt;.
  &lt;/p&gt;
  &lt;p&gt;
    Ниже проекция содержимого
    &lt;strong&gt;shadow host&lt;/strong&gt;:
  &lt;/p&gt;
  &lt;content&gt;&lt;/content&gt;
&lt;/template&gt;

&lt;div class=&quot;shadow-host&quot;&gt;
  &lt;h1 class=&quot;name&quot;&gt;Варлам&lt;/h1&gt;
  &lt;img src=&quot;varlam.png&quot;&gt;
  &lt;p class=&quot;description&quot;&gt;Бодрый Пёс&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
      template = document.querySelector('#content-tag'),
      shadow = host.createShadowRoot();

  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/48f/f55/ba7/48ff55ba7ac47c137e7981344d5cfa36.png" alt="content demo" id="content-demo-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-custom/#2">ссылка на пример</a></p>

<p>С помощью тега <code>&lt;content&gt;</code> с атрибутом <em>select</em>, мы выбираем <em>фрагменты</em>
содержимого хоста, например:</p>

<pre><code>&lt;template id=&quot;content-select&quot;&gt;
  &lt;h1&gt;Просто&lt;/h1&gt;
  &lt;content select=&quot;.description&quot;&gt;&lt;/content&gt;
  &lt;content select=&quot;.name&quot;&gt;&lt;/content&gt;
&lt;/template&gt;

&lt;div class=&quot;shadow-host&quot;&gt;
  &lt;h1 class=&quot;name&quot;&gt;Варлам&lt;/h1&gt;
  &lt;img src=&quot;varlam.png&quot;&gt;
  &lt;p class=&quot;description&quot;&gt;Бодрый Пёс&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
      template = document.querySelector('#content-select'),
      shadow = host.createShadowRoot();

  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/a6d/a0d/bf9/a6da0dbf91d6c34b536e79a94e21888f.png" alt="content-select-demo" id="content-select-demo-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-custom/#3">ссылка на пример</a></p>

<h4>Стили в Shadow DOM</h4>

<p>Инкапсуляция стилей &mdash; основная фишка <em>shadow DOM</em>. Стили,
которые определёны в <em>shadow tree</em> имеют силу только внутри этого дерева.</p>

<p>Досадная особенность &mdash; использовать в <em>shadow tree</em> внешние css
файлы нельзя. Надеюсь, это поправят в будущем.</p>

<p>Пример:</p>

<pre><code>&lt;template id=&quot;color-green&quot;&gt;
  &lt;style&gt;
    div { background-color: green; }
  &lt;/style&gt;

  &lt;div&gt;зелёный&lt;/div&gt;
&lt;/template&gt;

&lt;div class=&quot;shadow-host&quot;&gt;&lt;/div&gt;

&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
  template = document.querySelector('#color-green'),
  shadow = host.createShadowRoot();

  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Зелёный фон в примере получит только <code>&lt;div&gt;</code> внутри shadow tree. То
есть стили &#8220;не вытекут&#8221; в основной документ.</p>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/92c/1ce/063/92c1ce063c1704dee8721e1d885f5fee.png" alt="green" id="shadow-style-1-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-styles/#1">ссылка на пример</a></p>

<h4>Наследуемые стили</h4>

<p>По-умолчанию наследуемые стили, такие как <code>color</code>, <code>font-size</code> и
<a href="http://www.impressivewebs.com/inherit-value-css/">другие</a>, <strong>влияют</strong> на содержимое shadow tree.
Мы избежим этого, если установим <code>shadowRoot.resetStyleInheritance = true</code>:</p>

<pre><code>&lt;template id=&quot;reset&quot;&gt;
  &lt;p&gt;В этом примере шрифты сброшены.&lt;/p&gt;

  &lt;content&gt;&lt;/content&gt;
&lt;/template&gt;

&lt;div class=&quot;shadow-host&quot;&gt;
  &lt;p&gt;Host Content&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
    template = document.querySelector('#reset'),
    shadow = host.createShadowRoot();

  shadow.resetStyleInheritance = true;
  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/6e0/39d/000/6e039d000cdb1fd91f8b4814bc18cb77.png" alt="inherit styles" id="shadow-style-3-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-styles/#3">ссылка на пример</a></p>

<h4>Авторские стили</h4>

<p>Чтобы стили документа влияли на то, как выглядит <em>shadow tree</em>,
используйте свойство <code>applyAuthorStyles</code>.</p>

<p>Пример:</p>

<pre><code>&lt;template id=&quot;no-author-st&quot;&gt;
  &lt;div class=&quot;border&quot;&gt;div.border&lt;/div&gt;
&lt;/template&gt;

&lt;style&gt;
  /* В стилях документа */
  .border {
    border: 3px dashed red;
  }
&lt;/style&gt;

&lt;div class=&quot;shadow-host&quot;&gt;&lt;/div&gt;


&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
      template = document.querySelector('#no-author-st'),
      shadow = host.createShadowRoot();

  shadow.applyAuthorStyles = false; // значение по-умолчанию
  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Изменяя значение <code>applyAuthorStyles</code>, получаем разный результат:</p>

<p><code>applyAuthorStyles = false</code></p>

<p><img src="http://habrastorage.org/storage3/5a1/3a9/e51/5a13a9e5183bb7279330eb12f0b7646b.png" alt="no to author styles" id="shadow-style-4-img" /></p>

<p><code>applyAuthorStyles = true</code></p>

<p><img src="http://habrastorage.org/storage3/e31/775/9f5/e317759f57d941fcfc402acd0486187b.png" alt="yes to author styles" id="shadow-style-5-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-styles/#3">ссылка на пример, applyAuthorStyles=false</a></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-styles/#3">ссылка на пример, applyAuthorStyles=true</a></p>

<h4>Селекторы ^ и ^^</h4>

<p>Инкапсуляция это здорово, но если мы всё таки хотим добраться до
<em>shadow tree</em> и изменить его представление из стилей документа, нам
понадобится молоток. И кувалда.</p>

<p>Селектор <code>div ^ p</code> аналогичен <code>div p</code> с тем исключением, что он пересекает
одну теневую границу (<em>Shadow Boundary</em>).</p>

<p>Селектор <code>div ^^ p</code> аналогичен предыдущему, но пересекает ЛЮБОЕ
количество теневых границ.</p>

<p>Пример:</p>

<pre><code>&lt;template id=&quot;hat&quot;&gt;
  &lt;p class=&quot;shadow-p&quot;&gt;
    Это красный текст.
  &lt;/p&gt;
&lt;/template&gt;

&lt;style&gt;
  /* В стилях документа */
  .shadow-host ^ p.shadow-p {
    color: red;
  }
&lt;/style&gt;

&lt;div class=&quot;shadow-host&quot;&gt;&lt;/div&gt;

&lt;script&gt;
  var host = document.querySelector('.shadow-host'),
  template = document.querySelector('#hat'),
  shadow = host.createShadowRoot();

  shadow.appendChild(template.content);
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/b09/75a/4d4/b0975a4d44e325b873005c85f4127245.png" alt="cat in the hat" id="shadow-style-6-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-shadowdom-styles/#3">ссылка на пример</a></p>

<h4>Зачем нужен Shadow DOM?</h4>

<p>Shadow DOM позволяет изменять внутреннее представление HTML элементов,
оставляя внешнее представление неизменным.</p>

<p>Возможное применение &mdash; альтернатива <code>iframe</code>. Последний чересчур
изолирован. Чтобы взаимодействовать с внешним документом, приходится
изобретать безумные способы передачи сообщений. Изменение внешнего
представления с помощью css просто невозможно.</p>

<p>В отличие от <code>iframe</code>, <em>Shadow DOM</em> &mdash; это часть вашего документа. И
хотя <em>shadow tree</em> в некоторой степени изолировано, при желании мы можем
изменить его представление с помощью стилей, или расковырять скриптом.</p>

<h3>Custom Elements</h3>

<p><em>Custom Elements</em> &mdash; это инструмент создания своих HTML элементов.
API этой части Web Components выглядит зрело и напоминает <a href="http://docs.angularjs.org/guide/directive">директивы
Angular</a>. В сочетании с <em>Shadow DOM</em> и <em>шаблонами</em>,
кастомные элементы дают возможность создавать полноценные виджеты вроде
<code>&lt;audio&gt;</code>, <code>&lt;video&gt;</code> или <code>&lt;input type=&quot;date&quot;&gt;</code>.</p>

<p>Чтобы избежать конфликтов, согласно стандарту, кастомные элементы должны
содержать дефис в своём названии. По-умолчанию они наследуют
<code>HTMLElement</code>. Таким образом, когда браузер натыкается на разметку вида
<code>&lt;my-super-element&gt;</code>, он парсит его как <code>HTMLElement</code>. В случае
<code>&lt;mysuperelement&gt;</code>, результат будет <code>HTMLUnknownElement</code>.</p>

<p>Пример:</p>

<pre><code>&lt;dog&gt;&lt;/dog&gt;
&lt;x-dog&gt;&lt;/x-dog&gt;

&lt;dl&gt;
  &lt;dt&gt;dog type&lt;/dt&gt;
  &lt;dd id=&quot;dog-type&quot;&gt;&lt;/dd&gt;
  &lt;dt&gt;x-dog type&lt;/dt&gt;
  &lt;dd id=&quot;x-dog-type&quot;&gt;&lt;/dd&gt;
&lt;/dl&gt;

&lt;script&gt;
  var dog = document.querySelector('dog'),
      dogType = document.querySelector('#dog-type'),
      xDog = document.querySelector('x-dog'),
      xDogType = document.querySelector('#x-dog-type');

  dogType.innerText = Object.prototype.toString.apply(dog);
  xDogType.innerText = Object.prototype.toString.apply(xDog);
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/d9d/72d/5a3/d9d72d5a3279801de71c982933425f0a.png" alt="x-dog" id="custom-el-1-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-custom-elements/#1">ссылка на пример</a></p>

<h4>API кастомного элемента</h4>

<p>Мы можем определять свойства и методы у нашего элемента. Такие, как метод
<code>play()</code> у элемента <code>&lt;audio&gt;</code>.</p>

<p>В жизненный цикл (lifecycle) элемента входит 4 события, на каждое мы можем
повесить callback:</p>

<ul>
<li>created &mdash; создан инстанс элемента</li>
<li>attached &mdash; элемент вставлен в DOM</li>
<li>detached &mdash; элемент удалён из DOM</li>
<li>attributeChanged &mdash; атрибут элемента добавлен, удалён или изменён</li>
</ul>

<p>Алгоритм создания кастомного элемента выглядит так:</p>

<ol>
<li><p>Создаём прототип элемента.</p>

<p>Прототип должен наследовать <code>HTMLElement</code> или его наследника,
 например <code>HTMLButtonElement</code>:</p>

<pre><code>var myElementProto = Object.create(HTMLElement.prototype, {
  // API элемента и его lifecycle callbacks
});
</code></pre></li>
<li><p>Регистрируем элемент в DOM с помощью <code>document.registerElement()</code>:</p>

<pre><code>var myElement = document.registerElement('my-element', {
  prototype: myElementProto
});
</code></pre></li>
</ol>

<p>Пример:</p>

<pre><code>&lt;x-cat&gt;&lt;/x-cat&gt;
&lt;div&gt;
  &lt;strong&gt;Cat's life:&lt;/strong&gt;
  &lt;pre id=&quot;cats-life&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;script&gt;
  var life = document.querySelector('#cats-life'),
      xCatProto = Object.create(HTMLElement.prototype, {
        nickName: 'Cake', writable: true
      });

  xCatProto.meow = function () {
    life.innerText += this.nickName + ': meow\n';
  };

  xCatProto.createdCallback = function () {
    life.innerText += 'created\n';
  };

  xCatProto.attachedCallback = function () {
    life.innerText += 'attached\n';
  };

  xCatProto.detachedCallback = function () {
    life.innerText += 'detached\n';
  };

  xCatProto.attributeChangedCallback = function (name, oldVal, newVal) {
    life.innerText += (
      'Attribute ' + name +
      ' changed from ' + oldVal +
      ' to ' + newVal + '\n');
  };

  document.registerElement('x-cat', { prototype: xCatProto });

  document.querySelector('x-cat').setAttribute('friend', 'Fiona');

  document.querySelector('x-cat').meow();

  document.querySelector('x-cat').nickName = 'Caaaaake';
  document.querySelector('x-cat').meow();

  document.querySelector('x-cat').remove();
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/e2b/d5c/930/e2bd5c93064466d1a2bf3e9c3d3b5201.png" alt="cats life" id="custom-el-2-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-custom-elements/#2">ссылка на пример</a></p>

<h4>Зачем нужны Custom Elements?</h4>

<p><em>Custom Elements</em> это шаг к семантической разметке. Программистам важно
создавать абстракции. Семантически-нейтральные <code>&lt;div&gt;</code> или <code>&lt;ul&gt;</code> хорошо
подходят для низкоуровневой вёрстки, тогда как <em>Custom Elements</em> позволят
писать модульный, удобочитаемый код на высоком уровне.</p>

<p><em>Shadow DOM</em> и <em>Custom Elements</em> дают возможность создавать независимые от
контекста виджеты, с удобным API и инкапсулированным внутренним
представлением.</p>

<h3>HTML Imports</h3>

<p>Импорты &mdash; простое API, которому давно место в браузерах. Они дают
возможность вставлять в документ фрагменты разметки из других файлов.</p>

<p>Пример:</p>

<pre><code>&lt;link rel=&quot;import&quot; href=&quot;widget.html&quot;&gt;

&lt;sctipt&gt;
  var link = document.querySelector('link[rel=&quot;import&quot;]');

  // Доступ к импортированному документу происходит с помощью свойства
  // *import*.
  var importedContent = link.import;

  importedContent.querySelector('article');
&lt;/sctipt&gt;
</code></pre>

<h3>Object.observe()</h3>

<p>Ещё одно приятное дополнение и часть Web Components (кажется), это API для
отслеживания изменений объекта <code>Object.observe()</code>.</p>

<p>Этот метод доступен в Chrome, если включить флаг <em>Experimental Web Platform
features</em>.</p>

<p>Пример:</p>

<pre><code>var o = {};

Object.observe(o, function (changes) {
  changes.forEach(function (change) {

    // change.object содержит изменённую версию объекта

    console.log('property:', change.name, 'type:', change.type);
  });
});

o.x = 1     // property: x type: add
o.x = 2     // property: x type: update
delete o.x  // property: x type: delete
</code></pre>

<p>При изменении объекта <code>o</code> вызывается callback, в него передаётся массив
свойств, которые изменились.</p>

<h3>TODO widget</h3>

<p>Согласно древней традиции, вооружившись этими знаниями, я решил
сделать простой TODO-виджет.
В нём используются части Web Components, о которых я рассказывал в статье.</p>

<p>Добавление виджета на страницу сводится к одному импорту и одному тегу в
теле документа.</p>

<p>Пример:</p>

<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;link rel=&quot;import&quot; href=&quot;todo.html&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;x-todo&gt;&lt;/x-todo&gt;
  &lt;/body&gt;
&lt;/html&gt;

&lt;script&gt;
  // JS API виджета:
  var xTodo = document.querySelector('x-todo');
  xTodo.items();                // список задач
  xTodo.addItem(taskText);      // добавить
  xTodo.removeItem(taskIndex);  // удалить
&lt;/script&gt;
</code></pre>

<p>Результат:</p>

<p><img src="http://habrastorage.org/storage3/922/f03/f8d/922f03f8d14c931a67f813c5bf90b947.png" alt="todo widget" id="todo-widget-img" /></p>

<p><a href="http://filipovskii.github.io/web-components-demo/wc-todo-demo/">ссылка на демо</a></p>

<h3>Заключение</h3>

<p>С развитием html5 браузеры стали <em>нативно</em> поддерживать новые
медиа-форматы. Также появились элементы вроде <code>&lt;canvas&gt;</code>. Теперь у нас
огромное количество возможностей для создания интерактивных приложений на
клиенте. Этот стандарт также представил элементы <code>&lt;article&gt;</code>, <code>&lt;header&gt;</code>,
и другие. Разметка стала &#8220;иметь смысл&#8221;, приобрела семантику.</p>

<p>На мой взгляд, Web Components &mdash; это следующий шаг. Разработчики
смогут создавать интерактивные виджеты. Их легко поддерживать,
переиспользовать, интегрировать.</p>

<p>Код страницы не будет выглядеть как набор &#8220;блоков&#8221;, &#8220;параграфов&#8221; и
&#8220;списков&#8221;. Мы сможем использовать элементы вроде &#8220;меню&#8221;, &#8220;новостная
лента&#8221;, &#8220;чат&#8221;.</p>

<p>Конечно, стандарт сыроват. К примеру, импорты работают не так хорошо, как
шаблоны. Их использование рушило Chrome время от времени. Но объём
нововведений поражает. Даже часть этих возможностей способна облегчить
жизнь web-разработчикам. А некоторые заметно ускорят работу существующих
фреймворков.</p>

<p>Многие части Web Components можно использовать уже сейчас с помощью
полифилов. <a href="http://www.polymer-project.org/">Polymer Project</a> &mdash; это полноценный фреймворк
уровня приложения, который использует <em>Web Components</em>.</p>

<h3>Ссылки</h3>

<ul>
<li><p><a href="http://www.w3.org/TR/components-intro/">Web Components Intro</a>, W3C Working Draft</p></li>
<li><p><a href="http://w3c.github.io/webcomponents/spec/shadow/">Shadow DOM</a>, W3C Editor&#8217;s Draft</p></li>
<li><p><a href="http://filipovskii.github.io/web-components-demo/">Примеры к этой статье</a></p></li>
<li><p><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=811542">Bug 811542 - Implement Web Components</a>, Bugzilla@Mozilla</p></li>
</ul>

<p><a href="http://www.html5rocks.com/en/profiles/#ericbidelman">Eric Bidelman</a>, серия статей и видео о <em>Web Components</em>:</p>

<ul>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/template/">HTML&#8217;s New Template Tag: standardizing client-side
 templating</a></p></li>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom/">Shadow DOM 101</a></p></li>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom-201">Shadow DOM 201: CSS and Styling</a></p></li>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom-301/">Shadow DOM 301: Advanced Concepts &amp; DOM APIs</a></p></li>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/customelements">Custom Elements: defining new elements in HTML</a></p></li>
<li><p><a href="http://www.html5rocks.com/en/tutorials/webcomponents/imports/">HTML Imports: #include for the web</a></p></li>
<li><p><a href="http://www.youtube.com/watch?v=eJZx9c6YL8k">&lt;web&gt;components&lt;/web&gt; (видео)</a></p></li>
</ul>

<script>var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function c(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function j(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function g(t,s){var r="";for(var q=0;q<t.childNodes.length;q++){if(t.childNodes[q].nodeType==3){var p=t.childNodes[q].nodeValue;if(s){p=p.replace(/\n/g,"")}r+=p}else{if(t.childNodes[q].nodeName=="BR"){r+="\n"}else{r+=g(t.childNodes[q])}}}if(/MSIE [678]/.test(navigator.userAgent)){r=r.replace(/\r/g,"\n")}return r}function a(s){var q=s.className.split(/\s+/);q=q.concat(s.parentNode.className.split(/\s+/));for(var p=0;p<q.length;p++){var r=q[p].replace(/^language-/,"");if(d[r]||r=="no-highlight"){return r}}}function b(p){var q=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{q.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);q.push({event:"stop",offset:t,node:s.childNodes[r]})}}}return t})(p,0);return q}function l(y,z,x){var r=0;var w="";var t=[];function u(){if(y.length&&z.length){if(y[0].offset!=z[0].offset){return(y[0].offset<z[0].offset)?y:z}else{return z[0].event=="start"?y:z}}else{return y.length?y:z}}function s(C){var D="<"+C.nodeName.toLowerCase();for(var A=0;A<C.attributes.length;A++){var B=C.attributes[A];D+=" "+B.nodeName.toLowerCase();if(B.nodeValue!=undefined&&B.nodeValue!=false&&B.nodeValue!=null){D+='="'+m(B.nodeValue)+'"'}}return D+">"}while(y.length||z.length){var v=u().splice(0,1)[0];w+=m(x.substr(r,v.offset-r));r=v.offset;if(v.event=="start"){w+=s(v.node);t.push(v.node)}else{if(v.event=="stop"){var q=t.length;do{q--;var p=t[q];w+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);t.splice(q,1);while(q<t.length){w+=s(t[q]);q++}}}}w+=x.substr(r);return w}function i(){function p(u,t,v){if(u.compiled){return}if(!v){u.bR=c(t,u.b?u.b:"\\B|\\b");if(!u.e&&!u.eW){u.e="\\B|\\b"}if(u.e){u.eR=c(t,u.e)}}if(u.i){u.iR=c(t,u.i)}if(u.r==undefined){u.r=1}if(u.k){u.lR=c(t,u.l||hljs.IR,true)}for(var s in u.k){if(!u.k.hasOwnProperty(s)){continue}if(u.k[s] instanceof Object){u.kG=u.k}else{u.kG={keyword:u.k}}break}if(!u.c){u.c=[]}u.compiled=true;for(var r=0;r<u.c.length;r++){p(u.c[r],t,false)}if(u.starts){p(u.starts,t,false)}}for(var q in d){if(!d.hasOwnProperty(q)){continue}p(d[q].dM,d[q],true)}}function e(J,D){if(!i.called){i();i.called=true}function z(r,M){for(var L=0;L<M.c.length;L++){if(M.c[L].bR.test(r)){return M.c[L]}}}function w(L,r){if(C[L].e&&C[L].eR.test(r)){return 1}if(C[L].eW){var M=w(L-1,r);return M?M+1:0}return 0}function x(r,L){return L.iR&&L.iR.test(r)}function A(O,N){var M=[];for(var L=0;L<O.c.length;L++){M.push(O.c[L].b)}var r=C.length-1;do{if(C[r].e){M.push(C[r].e)}r--}while(C[r+1].eW);if(O.i){M.push(O.i)}return c(N,"("+M.join("|")+")",true)}function s(M,L){var N=C[C.length-1];if(!N.t){N.t=A(N,H)}N.t.lastIndex=L;var r=N.t.exec(M);if(r){return[M.substr(L,r.index-L),r[0],false]}else{return[M.substr(L),"",true]}}function p(O,r){var L=H.cI?r[0].toLowerCase():r[0];for(var N in O.kG){if(!O.kG.hasOwnProperty(N)){continue}var M=O.kG[N].hasOwnProperty(L);if(M){return[N,M]}}return false}function F(M,O){if(!O.k){return m(M)}var N="";var P=0;O.lR.lastIndex=0;var L=O.lR.exec(M);while(L){N+=m(M.substr(P,L.index-P));var r=p(O,L);if(r){t+=r[1];N+='<span class="'+r[0]+'">'+m(L[0])+"</span>"}else{N+=m(L[0])}P=O.lR.lastIndex;L=O.lR.exec(M)}N+=m(M.substr(P,M.length-P));return N}function K(r,M){if(M.sL&&d[M.sL]){var L=e(M.sL,r);t+=L.keyword_count;return L.value}else{return F(r,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){q+=L;M.buffer=""}else{if(M.eB){q+=m(r)+L;M.buffer=""}else{q+=L;M.buffer=r}}C.push(M);B+=M.r}function E(O,L,Q){var R=C[C.length-1];if(Q){q+=K(R.buffer+O,R);return false}var M=z(L,R);if(M){q+=K(R.buffer+O,R);I(M,L);return M.rB}var r=w(C.length-1,L);if(r){var N=R.cN?"</span>":"";if(R.rE){q+=K(R.buffer+O,R)+N}else{if(R.eE){q+=K(R.buffer+O,R)+N+m(L)}else{q+=K(R.buffer+O+L,R)+N}}while(r>1){N=C[C.length-2].cN?"</span>":"";q+=N;r--;C.length--}var P=C[C.length-1];C.length--;C[C.length-1].buffer="";if(P.starts){I(P.starts,"")}return R.rE}if(x(L,R)){throw"Illegal"}}var H=d[J];var C=[H.dM];var B=0;var t=0;var q="";try{var v=0;H.dM.buffer="";do{var y=s(D,v);var u=E(y[0],y[1],y[2]);v+=y[0].length;if(!u){v+=y[1].length}}while(!y[2]);if(C.length>1){throw"Illegal"}return{r:B,keyword_count:t,value:q}}catch(G){if(G=="Illegal"){return{r:0,keyword_count:0,value:m(D)}}else{throw G}}}function f(t){var r={keyword_count:0,r:0,value:m(t)};var q=r;for(var p in d){if(!d.hasOwnProperty(p)){continue}var s=e(p,t);s.language=p;if(s.keyword_count+s.r>q.keyword_count+q.r){q=s}if(s.keyword_count+s.r>r.keyword_count+r.r){q=r;r=s}}if(q.language){r.second_best=q}return r}function h(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function o(u,x,q){var y=g(u,q);var s=a(u);if(s=="no-highlight"){return}if(s){var w=e(s,y)}else{var w=f(y);s=w.language}var p=b(u);if(p.length){var r=document.createElement("pre");r.innerHTML=w.value;w.value=l(p,b(r),y)}w.value=h(w.value,x,q);var t=u.className;if(!t.match("(\\s|^)(language-)?"+s+"(\\s|$)")){t=t?(t+" "+s):s}if(/MSIE [678]/.test(navigator.userAgent)&&u.tagName=="CODE"&&u.parentNode.tagName=="PRE"){var r=u.parentNode;var v=document.createElement("div");v.innerHTML="<pre><code>"+w.value+"</code></pre>";u=v.firstChild.firstChild;v.firstChild.cN=r.cN;r.parentNode.replaceChild(v.firstChild,r)}else{u.innerHTML=w.value}u.className=t;u.result={language:s,kw:w.keyword_count,re:w.r};if(w.second_best){u.second_best={language:w.second_best.language,kw:w.second_best.keyword_count,re:w.second_best.r}}}function k(){if(k.called){return}k.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=j(r[p]);if(q){o(q,hljs.tabReplace)}}}function n(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",k,false);window.addEventListener("load",k,false)}else{if(window.attachEvent){window.attachEvent("onload",k)}else{window.onload=k}}}var d={};this.LANGUAGES=d;this.highlight=e;this.highlightAuto=f;this.fixMarkup=h;this.highlightBlock=o;this.initHighlighting=k;this.initHighlightingOnLoad=n;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.inherit=function(p,s){var r={};for(var q in p){r[q]=p[q]}if(s){for(var q in s){r[q]=s[q]}}return r}}();hljs.LANGUAGES.bash=function(){var d={"true":1,"false":1};var b={cN:"variable",b:"\\$([a-zA-Z0-9_]+)\\b"};var a={cN:"variable",b:"\\$\\{(([^}])|(\\\\}))+\\}",c:[hljs.CNM]};var c={cN:"string",b:'"',e:'"',i:"\\n",c:[hljs.BE,b,a],r:0};var e={cN:"test_condition",b:"",e:"",c:[c,b,a,hljs.CNM],k:{literal:d},r:0};return{dM:{k:{keyword:{"if":1,then:1,"else":1,fi:1,"for":1,"break":1,"continue":1,"while":1,"in":1,"do":1,done:1,echo:1,exit:1,"return":1,set:1,declare:1},literal:d},c:[{cN:"shebang",b:"(#!\\/bin\\/bash)|(#!\\/bin\\/sh)",r:10},hljs.HCM,hljs.CNM,c,b,a,hljs.inherit(e,{b:"\\[ ",e:" \\]",r:0}),hljs.inherit(e,{b:"\\[\\[ ",e:" \\]\\]"})]}}}();hljs.LANGUAGES.cs={dM:{k:{"abstract":1,as:1,base:1,bool:1,"break":1,"byte":1,"case":1,"catch":1,"char":1,checked:1,"class":1,"const":1,"continue":1,decimal:1,"default":1,delegate:1,"do":1,"do":1,"double":1,"else":1,"enum":1,event:1,explicit:1,extern:1,"false":1,"finally":1,fixed:1,"float":1,"for":1,foreach:1,"goto":1,"if":1,implicit:1,"in":1,"int":1,"interface":1,internal:1,is:1,lock:1,"long":1,namespace:1,"new":1,"null":1,object:1,operator:1,out:1,override:1,params:1,"private":1,"protected":1,"public":1,readonly:1,ref:1,"return":1,sbyte:1,sealed:1,"short":1,sizeof:1,stackalloc:1,"static":1,string:1,struct:1,"switch":1,"this":1,"throw":1,"true":1,"try":1,"typeof":1,uint:1,ulong:1,unchecked:1,unsafe:1,ushort:1,using:1,virtual:1,"volatile":1,"void":1,"while":1,ascending:1,descending:1,from:1,get:1,group:1,into:1,join:1,let:1,orderby:1,partial:1,select:1,set:1,value:1,"var":1,where:1,yield:1},c:[{cN:"comment",b:"///",e:"$",rB:true,c:[{cN:"xmlDocTag",b:"///|<!--|-->"},{cN:"xmlDocTag",b:"</?",e:">"}]},hljs.CLCM,hljs.CBLCLM,{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},hljs.ASM,hljs.QSM,hljs.CNM]}};hljs.LANGUAGES.ruby=function(){var g="[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?";var a="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?";var n={keyword:{and:1,"false":1,then:1,defined:1,module:1,"in":1,"return":1,redo:1,"if":1,BEGIN:1,retry:1,end:1,"for":1,"true":1,self:1,when:1,next:1,until:1,"do":1,begin:1,unless:1,END:1,rescue:1,nil:1,"else":1,"break":1,undef:1,not:1,"super":1,"class":1,"case":1,require:1,yield:1,alias:1,"while":1,ensure:1,elsif:1,or:1,def:1},keymethods:{__id__:1,__send__:1,abort:1,abs:1,"all?":1,allocate:1,ancestors:1,"any?":1,arity:1,assoc:1,at:1,at_exit:1,autoload:1,"autoload?":1,"between?":1,binding:1,binmode:1,"block_given?":1,call:1,callcc:1,caller:1,capitalize:1,"capitalize!":1,casecmp:1,"catch":1,ceil:1,center:1,chomp:1,"chomp!":1,chop:1,"chop!":1,chr:1,"class":1,class_eval:1,"class_variable_defined?":1,class_variables:1,clear:1,clone:1,close:1,close_read:1,close_write:1,"closed?":1,coerce:1,collect:1,"collect!":1,compact:1,"compact!":1,concat:1,"const_defined?":1,const_get:1,const_missing:1,const_set:1,constants:1,count:1,crypt:1,"default":1,default_proc:1,"delete":1,"delete!":1,delete_at:1,delete_if:1,detect:1,display:1,div:1,divmod:1,downcase:1,"downcase!":1,downto:1,dump:1,dup:1,each:1,each_byte:1,each_index:1,each_key:1,each_line:1,each_pair:1,each_value:1,each_with_index:1,"empty?":1,entries:1,eof:1,"eof?":1,"eql?":1,"equal?":1,"eval":1,exec:1,exit:1,"exit!":1,extend:1,fail:1,fcntl:1,fetch:1,fileno:1,fill:1,find:1,find_all:1,first:1,flatten:1,"flatten!":1,floor:1,flush:1,for_fd:1,foreach:1,fork:1,format:1,freeze:1,"frozen?":1,fsync:1,getc:1,gets:1,global_variables:1,grep:1,gsub:1,"gsub!":1,"has_key?":1,"has_value?":1,hash:1,hex:1,id:1,include:1,"include?":1,included_modules:1,index:1,indexes:1,indices:1,induced_from:1,inject:1,insert:1,inspect:1,instance_eval:1,instance_method:1,instance_methods:1,"instance_of?":1,"instance_variable_defined?":1,instance_variable_get:1,instance_variable_set:1,instance_variables:1,"integer?":1,intern:1,invert:1,ioctl:1,"is_a?":1,isatty:1,"iterator?":1,join:1,"key?":1,keys:1,"kind_of?":1,lambda:1,last:1,length:1,lineno:1,ljust:1,load:1,local_variables:1,loop:1,lstrip:1,"lstrip!":1,map:1,"map!":1,match:1,max:1,"member?":1,merge:1,"merge!":1,method:1,"method_defined?":1,method_missing:1,methods:1,min:1,module_eval:1,modulo:1,name:1,nesting:1,"new":1,next:1,"next!":1,"nil?":1,nitems:1,"nonzero?":1,object_id:1,oct:1,open:1,pack:1,partition:1,pid:1,pipe:1,pop:1,popen:1,pos:1,prec:1,prec_f:1,prec_i:1,print:1,printf:1,private_class_method:1,private_instance_methods:1,"private_method_defined?":1,private_methods:1,proc:1,protected_instance_methods:1,"protected_method_defined?":1,protected_methods:1,public_class_method:1,public_instance_methods:1,"public_method_defined?":1,public_methods:1,push:1,putc:1,puts:1,quo:1,raise:1,rand:1,rassoc:1,read:1,read_nonblock:1,readchar:1,readline:1,readlines:1,readpartial:1,rehash:1,reject:1,"reject!":1,remainder:1,reopen:1,replace:1,require:1,"respond_to?":1,reverse:1,"reverse!":1,reverse_each:1,rewind:1,rindex:1,rjust:1,round:1,rstrip:1,"rstrip!":1,scan:1,seek:1,select:1,send:1,set_trace_func:1,shift:1,singleton_method_added:1,singleton_methods:1,size:1,sleep:1,slice:1,"slice!":1,sort:1,"sort!":1,sort_by:1,split:1,sprintf:1,squeeze:1,"squeeze!":1,srand:1,stat:1,step:1,store:1,strip:1,"strip!":1,sub:1,"sub!":1,succ:1,"succ!":1,sum:1,superclass:1,swapcase:1,"swapcase!":1,sync:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,taint:1,"tainted?":1,tell:1,test:1,"throw":1,times:1,to_a:1,to_ary:1,to_f:1,to_hash:1,to_i:1,to_int:1,to_io:1,to_proc:1,to_s:1,to_str:1,to_sym:1,tr:1,"tr!":1,tr_s:1,"tr_s!":1,trace_var:1,transpose:1,trap:1,truncate:1,"tty?":1,type:1,ungetc:1,uniq:1,"uniq!":1,unpack:1,unshift:1,untaint:1,untrace_var:1,upcase:1,"upcase!":1,update:1,upto:1,"value?":1,values:1,values_at:1,warn:1,write:1,write_nonblock:1,"zero?":1,zip:1}};var h={cN:"yardoctag",b:"@[A-Za-z]+"};var d={cN:"comment",b:"#",e:"$",c:[h]};var c={cN:"comment",b:"^\\=begin",e:"^\\=end",c:[h],r:10};var b={cN:"comment",b:"^__END__",e:"\\n$"};var u={cN:"subst",b:"#\\{",e:"}",l:g,k:n};var p=[hljs.BE,u];var s={cN:"string",b:"'",e:"'",c:p,r:0};var r={cN:"string",b:'"',e:'"',c:p,r:0};var q={cN:"string",b:"%[qw]?\\(",e:"\\)",c:p,r:10};var o={cN:"string",b:"%[qw]?\\[",e:"\\]",c:p,r:10};var m={cN:"string",b:"%[qw]?{",e:"}",c:p,r:10};var l={cN:"string",b:"%[qw]?<",e:">",c:p,r:10};var k={cN:"string",b:"%[qw]?/",e:"/",c:p,r:10};var j={cN:"string",b:"%[qw]?%",e:"%",c:p,r:10};var i={cN:"string",b:"%[qw]?-",e:"-",c:p,r:10};var t={cN:"string",b:"%[qw]?\\|",e:"\\|",c:p,r:10};var e={cN:"function",b:"\\bdef\\s+",e:" |$|;",l:g,k:n,c:[{cN:"title",b:a,l:g,k:n},{cN:"params",b:"\\(",e:"\\)",l:g,k:n},d,c,b]};var f={cN:"identifier",b:g,l:g,k:n,r:0};var v=[d,c,b,s,r,q,o,m,l,k,j,i,t,{cN:"class",b:"\\b(class|module)\\b",e:"$|;",k:{"class":1,module:1},c:[{cN:"title",b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?",r:0},{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+hljs.IR+"::)?"+hljs.IR}]},d,c,b]},e,{cN:"constant",b:"(::)?([A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:":",c:[s,r,q,o,m,l,k,j,i,t,f],r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"number",b:"\\?\\w"},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},f,{b:"("+hljs.RSR+")\\s*",c:[d,c,b,{cN:"regexp",b:"/",e:"/[a-z]*",i:"\\n",c:[hljs.BE]}],r:0}];u.c=v;e.c[1].c=v;return{dM:{l:g,k:n,c:v}}}();hljs.LANGUAGES.diff={cI:true,dM:{c:[{cN:"chunk",b:"^\\@\\@ +\\-\\d+,\\d+ +\\+\\d+,\\d+ +\\@\\@$",r:10},{cN:"chunk",b:"^\\*\\*\\* +\\d+,\\d+ +\\*\\*\\*\\*$",r:10},{cN:"chunk",b:"^\\-\\-\\- +\\d+,\\d+ +\\-\\-\\-\\-$",r:10},{cN:"header",b:"Index: ",e:"$"},{cN:"header",b:"=====",e:"=====$"},{cN:"header",b:"^\\-\\-\\-",e:"$"},{cN:"header",b:"^\\*{3} ",e:"$"},{cN:"header",b:"^\\+\\+\\+",e:"$"},{cN:"header",b:"\\*{5}",e:"\\*{5}$"},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}};hljs.LANGUAGES.javascript={dM:{k:{keyword:{"in":1,"if":1,"for":1,"while":1,"finally":1,"var":1,"new":1,"function":1,"do":1,"return":1,"void":1,"else":1,"break":1,"catch":1,"instanceof":1,"with":1,"throw":1,"case":1,"default":1,"try":1,"this":1,"switch":1,"continue":1,"typeof":1,"delete":1},literal:{"true":1,"false":1,"null":1}},c:[hljs.ASM,hljs.QSM,hljs.CLCM,hljs.CBLCLM,hljs.CNM,{b:"("+hljs.RSR+"|case|return|throw)\\s*",k:{"return":1,"throw":1,"case":1},c:[hljs.CLCM,hljs.CBLCLM,{cN:"regexp",b:"/",e:"/[gim]*",c:[{b:"\\\\/"}]}],r:0},{cN:"function",b:"\\bfunction\\b",e:"{",k:{"function":1},c:[{cN:"title",b:"[A-Za-z$_][0-9A-Za-z$_]*"},{cN:"params",b:"\\(",e:"\\)",c:[hljs.ASM,hljs.QSM,hljs.CLCM,hljs.CBLCLM]}]}]}};hljs.LANGUAGES.css=function(){var a={cN:"function",b:hljs.IR+"\\(",e:"\\)",c:[{eW:true,eE:true,c:[hljs.NM,hljs.ASM,hljs.QSM]}]};return{cI:true,dM:{i:"[=/|']",c:[hljs.CBLCLM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:{"font-face":1,page:1}},{cN:"at_rule",b:"@",e:"[{;]",eE:true,k:{"import":1,page:1,media:1,charset:1},c:[a,hljs.ASM,hljs.QSM,hljs.NM]},{cN:"tag",b:hljs.IR,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[hljs.CBLCLM,{cN:"rule",b:"[^\\s]",rB:true,e:";",eW:true,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:true,i:"[^\\s]",starts:{cN:"value",eW:true,eE:true,c:[a,hljs.NM,hljs.QSM,hljs.ASM,hljs.CBLCLM,{cN:"hexcolor",b:"\\#[0-9A-F]+"},{cN:"important",b:"!important"}]}}]}]}]}}}();hljs.LANGUAGES.xml=function(){var b="[A-Za-z0-9\\._:-]+";var a={eW:true,c:[{cN:"attribute",b:b,r:0},{b:'="',rB:true,e:'"',c:[{cN:"value",b:'"',eW:true}]},{b:"='",rB:true,e:"'",c:[{cN:"value",b:"'",eW:true}]},{b:"=",c:[{cN:"value",b:"[^\\s/>]+"}]}]};return{cI:true,dM:{c:[{cN:"pi",b:"<\\?",e:"\\?>",r:10},{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style",e:">",k:{title:{style:1}},c:[a],starts:{cN:"css",e:"</style>",rE:true,sL:"css"}},{cN:"tag",b:"<script",e:">",k:{title:{script:1}},c:[a],starts:{cN:"javascript",e:"<\/script>",rE:true,sL:"javascript"}},{cN:"vbscript",b:"<%",e:"%>",sL:"vbscript"},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:"[^ />]+"},a]}]}}}();hljs.LANGUAGES.java={dM:{k:{"false":1,"synchronized":1,"int":1,"abstract":1,"float":1,"private":1,"char":1,"interface":1,"boolean":1,"static":1,"null":1,"if":1,"const":1,"for":1,"true":1,"while":1,"long":1,"throw":1,strictfp:1,"finally":1,"protected":1,"extends":1,"import":1,"native":1,"final":1,"implements":1,"return":1,"void":1,"enum":1,"else":1,"break":1,"transient":1,"new":1,"catch":1,"instanceof":1,"byte":1,"super":1,"class":1,"volatile":1,"case":1,assert:1,"short":1,"package":1,"default":1,"double":1,"public":1,"try":1,"this":1,"switch":1,"continue":1,"throws":1},c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",c:[{cN:"javadoctag",b:"@[A-Za-z]+"}],r:10},hljs.CLCM,hljs.CBLCLM,hljs.ASM,hljs.QSM,{cN:"class",b:"(class |interface )",e:"{",k:{"class":1,"interface":1},i:":",c:[{b:"(implements|extends)",k:{"extends":1,"implements":1},r:10},{cN:"title",b:hljs.UIR}]},hljs.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}};hljs.LANGUAGES.php={cI:true,dM:{k:{and:1,include_once:1,list:1,"abstract":1,global:1,"private":1,echo:1,"interface":1,as:1,"static":1,endswitch:1,array:1,"null":1,"if":1,endwhile:1,or:1,"const":1,"for":1,endforeach:1,self:1,"var":1,"while":1,isset:1,"public":1,"protected":1,exit:1,foreach:1,"throw":1,elseif:1,"extends":1,include:1,__FILE__:1,empty:1,require_once:1,"function":1,"do":1,xor:1,"return":1,"implements":1,parent:1,clone:1,use:1,__CLASS__:1,__LINE__:1,"else":1,"break":1,print:1,"eval":1,"new":1,"catch":1,__METHOD__:1,"class":1,"case":1,exception:1,php_user_filter:1,"default":1,die:1,require:1,__FUNCTION__:1,enddeclare:1,"final":1,"try":1,"this":1,"switch":1,"continue":1,endfor:1,endif:1,declare:1,unset:1,"true":1,"false":1,namespace:1},c:[hljs.CLCM,hljs.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+",r:10}]},hljs.CNM,hljs.inherit(hljs.ASM,{i:null}),hljs.inherit(hljs.QSM,{i:null}),{cN:"variable",b:"\\$[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*"},{cN:"preprocessor",b:"<\\?php",r:10},{cN:"preprocessor",b:"\\?>"}]}};hljs.LANGUAGES.python=function(){var c={cN:"string",b:"(u|b)?r?'''",e:"'''",r:10};var b={cN:"string",b:'(u|b)?r?"""',e:'"""',r:10};var a={cN:"string",b:"(u|r|ur|b|br)'",e:"'",c:[hljs.BE],r:10};var f={cN:"string",b:'(u|r|ur|b|br)"',e:'"',c:[hljs.BE],r:10};var d={cN:"title",b:hljs.UIR};var e={cN:"params",b:"\\(",e:"\\)",c:[c,b,a,f,hljs.ASM,hljs.QSM]};return{dM:{k:{keyword:{and:1,elif:1,is:1,global:1,as:1,"in":1,"if":1,from:1,raise:1,"for":1,except:1,"finally":1,print:1,"import":1,pass:1,"return":1,exec:1,"else":1,"break":1,not:1,"with":1,"class":1,assert:1,yield:1,"try":1,"while":1,"continue":1,del:1,or:1,def:1,lambda:1,nonlocal:10},built_in:{None:1,True:1,False:1,Ellipsis:1,NotImplemented:1}},i:"(</|->|\\?)",c:[hljs.HCM,c,b,a,f,hljs.ASM,hljs.QSM,{cN:"function",b:"\\bdef ",e:":",i:"$",k:{def:1},c:[d,e],r:10},{cN:"class",b:"\\bclass ",e:":",i:"[${]",k:{"class":1},c:[d,e],r:10},hljs.CNM,{cN:"decorator",b:"@",e:"$"}]}}}();hljs.LANGUAGES.sql={cI:true,dM:{i:"[^\\s]",c:[{cN:"operator",b:"(begin|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma)\\b",e:";|$",k:{keyword:{all:1,partial:1,global:1,month:1,current_timestamp:1,using:1,go:1,revoke:1,smallint:1,indicator:1,"end-exec":1,disconnect:1,zone:1,"with":1,character:1,assertion:1,to:1,add:1,current_user:1,usage:1,input:1,local:1,alter:1,match:1,collate:1,real:1,then:1,rollback:1,get:1,read:1,timestamp:1,session_user:1,not:1,integer:1,bit:1,unique:1,day:1,minute:1,desc:1,insert:1,execute:1,like:1,ilike:2,level:1,decimal:1,drop:1,"continue":1,isolation:1,found:1,where:1,constraints:1,domain:1,right:1,national:1,some:1,module:1,transaction:1,relative:1,second:1,connect:1,escape:1,close:1,system_user:1,"for":1,deferred:1,section:1,cast:1,current:1,sqlstate:1,allocate:1,intersect:1,deallocate:1,numeric:1,"public":1,preserve:1,full:1,"goto":1,initially:1,asc:1,no:1,key:1,output:1,collation:1,group:1,by:1,union:1,session:1,both:1,last:1,language:1,constraint:1,column:1,of:1,space:1,foreign:1,deferrable:1,prior:1,connection:1,unknown:1,action:1,commit:1,view:1,or:1,first:1,into:1,"float":1,year:1,primary:1,cascaded:1,except:1,restrict:1,set:1,references:1,names:1,table:1,outer:1,open:1,select:1,size:1,are:1,rows:1,from:1,prepare:1,distinct:1,leading:1,create:1,only:1,next:1,inner:1,authorization:1,schema:1,corresponding:1,option:1,declare:1,precision:1,immediate:1,"else":1,timezone_minute:1,external:1,varying:1,translation:1,"true":1,"case":1,exception:1,join:1,hour:1,"default":1,"double":1,scroll:1,value:1,cursor:1,descriptor:1,values:1,dec:1,fetch:1,procedure:1,"delete":1,and:1,"false":1,"int":1,is:1,describe:1,"char":1,as:1,at:1,"in":1,varchar:1,"null":1,trailing:1,any:1,absolute:1,current_time:1,end:1,grant:1,privileges:1,when:1,cross:1,check:1,write:1,current_date:1,pad:1,begin:1,temporary:1,exec:1,time:1,update:1,catalog:1,user:1,sql:1,date:1,on:1,identity:1,timezone_hour:1,natural:1,whenever:1,interval:1,work:1,order:1,cascade:1,diagnostics:1,nchar:1,having:1,left:1,call:1,"do":1,handler:1,load:1,replace:1,truncate:1,start:1,lock:1,show:1,pragma:1},aggregate:{count:1,sum:1,min:1,max:1,avg:1}},c:[{cN:"string",b:"'",e:"'",c:[hljs.BE,{b:"''"}],r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE,{b:'""'}],r:0},{cN:"string",b:"`",e:"`",c:[hljs.BE]},hljs.CNM,{b:"\\n"}]},hljs.CBLCLM,{cN:"comment",b:"--",e:"$"}]}};hljs.LANGUAGES.ini={cI:true,dM:{i:"[^\\s]",c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9_\\[\\]]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:true,k:{on:1,off:1,"true":1,"false":1,yes:1,no:1},c:[hljs.QSM,hljs.NM]}]}]}};hljs.LANGUAGES.perl=function(){var c={getpwent:1,getservent:1,quotemeta:1,msgrcv:1,scalar:1,kill:1,dbmclose:1,undef:1,lc:1,ma:1,syswrite:1,tr:1,send:1,umask:1,sysopen:1,shmwrite:1,vec:1,qx:1,utime:1,local:1,oct:1,semctl:1,localtime:1,readpipe:1,"do":1,"return":1,format:1,read:1,sprintf:1,dbmopen:1,pop:1,getpgrp:1,not:1,getpwnam:1,rewinddir:1,qq:1,fileno:1,qw:1,endprotoent:1,wait:1,sethostent:1,bless:1,s:1,opendir:1,"continue":1,each:1,sleep:1,endgrent:1,shutdown:1,dump:1,chomp:1,connect:1,getsockname:1,die:1,socketpair:1,close:1,flock:1,exists:1,index:1,shmget:1,sub:1,"for":1,endpwent:1,redo:1,lstat:1,msgctl:1,setpgrp:1,abs:1,exit:1,select:1,print:1,ref:1,gethostbyaddr:1,unshift:1,fcntl:1,syscall:1,"goto":1,getnetbyaddr:1,join:1,gmtime:1,symlink:1,semget:1,splice:1,x:1,getpeername:1,recv:1,log:1,setsockopt:1,cos:1,last:1,reverse:1,gethostbyname:1,getgrnam:1,study:1,formline:1,endhostent:1,times:1,chop:1,length:1,gethostent:1,getnetent:1,pack:1,getprotoent:1,getservbyname:1,rand:1,mkdir:1,pos:1,chmod:1,y:1,substr:1,endnetent:1,printf:1,next:1,open:1,msgsnd:1,readdir:1,use:1,unlink:1,getsockopt:1,getpriority:1,rindex:1,wantarray:1,hex:1,system:1,getservbyport:1,endservent:1,"int":1,chr:1,untie:1,rmdir:1,prototype:1,tell:1,listen:1,fork:1,shmread:1,ucfirst:1,setprotoent:1,"else":1,sysseek:1,link:1,getgrgid:1,shmctl:1,waitpid:1,unpack:1,getnetbyname:1,reset:1,chdir:1,grep:1,split:1,require:1,caller:1,lcfirst:1,until:1,warn:1,"while":1,values:1,shift:1,telldir:1,getpwuid:1,my:1,getprotobynumber:1,"delete":1,and:1,sort:1,uc:1,defined:1,srand:1,accept:1,"package":1,seekdir:1,getprotobyname:1,semop:1,our:1,rename:1,seek:1,"if":1,q:1,chroot:1,sysread:1,setpwent:1,no:1,crypt:1,getc:1,chown:1,sqrt:1,write:1,setnetent:1,setpriority:1,foreach:1,tie:1,sin:1,msgget:1,map:1,stat:1,getlogin:1,unless:1,elsif:1,truncate:1,exec:1,keys:1,glob:1,tied:1,closedir:1,ioctl:1,socket:1,readlink:1,"eval":1,xor:1,readline:1,binmode:1,setservent:1,eof:1,ord:1,bind:1,alarm:1,pipe:1,atan2:1,getgrent:1,exp:1,time:1,push:1,setgrent:1,gt:1,lt:1,or:1,ne:1,m:1};var d={cN:"subst",b:"[$@]\\{",e:"}",k:c,r:10};var b={cN:"variable",b:"\\$\\d"};var a={cN:"variable",b:"[\\$\\%\\@\\*](\\^\\w\\b|#\\w+(\\:\\:\\w+)*|[^\\s\\w{]|{\\w+}|\\w+(\\:\\:\\w*)*)"};var g=[hljs.BE,d,b,a];var f={b:"->",c:[{b:hljs.IR},{b:"{",e:"}"}]};var e=[b,a,hljs.HCM,{cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},f,{cN:"string",b:"q[qwxr]?\\s*\\(",e:"\\)",c:g,r:5},{cN:"string",b:"q[qwxr]?\\s*\\[",e:"\\]",c:g,r:5},{cN:"string",b:"q[qwxr]?\\s*\\{",e:"\\}",c:g,r:5},{cN:"string",b:"q[qwxr]?\\s*\\|",e:"\\|",c:g,r:5},{cN:"string",b:"q[qwxr]?\\s*\\<",e:"\\>",c:g,r:5},{cN:"string",b:"qw\\s+q",e:"q",c:g,r:5},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"string",b:'"',e:'"',c:g,r:0},{cN:"string",b:"`",e:"`",c:[hljs.BE]},{cN:"string",b:"{\\w+}",r:0},{cN:"string",b:"-?\\w+\\s*\\=\\>",r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[hljs.BE],r:0},{cN:"sub",b:"\\bsub\\b",e:"(\\s*\\(.*?\\))?[;{]",k:{sub:1},r:5},{cN:"operator",b:"-\\w\\b",r:0},{cN:"pod",b:"\\=\\w",e:"\\=cut"}];d.c=e;f.c[1].c=e;return{dM:{k:c,c:e}}}();hljs.LANGUAGES.cpp=function(){var b={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};var a={cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:b,r:10};a.c=[a];return{dM:{k:b,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},a]}}}();</script>

<script>hljs.initHighlightingOnLoad();</script>
    </div>
</body>
</html>